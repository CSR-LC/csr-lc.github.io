"use strict";(self.webpackChunklc_fe=self.webpackChunklc_fe||[]).push([[29],{5029:(Ct,k,u)=>{u.r(k),u.d(k,{AdminModule:()=>xt});var h=u(6814),A=u(9316),t=u(5879),S=u(9862);let q=(()=>{class n{constructor(e){this.http=e}getAllEquipment(){return this.http.get("equipment")}getEquipmentAvailable(e){return this.http.post("equipment/availability",e)}blockEquipment(e,o){return this.http.put(`equipment/availability/${e}`,o)}static#t=this.\u0275fac=function(o){return new(o||n)(t.LFG(S.eN))};static#n=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})();var w=u(7582),m=u(7700),d=u(2296),M=u(6385);let B=(()=>{class n{constructor(e){this.confirmationModalData=e,this.title=this.confirmationModalData.title,this.name=this.confirmationModalData.name,this.reason=this.confirmationModalData.reason,this.applyButtonText=this.confirmationModalData?.applyButtonText?this.confirmationModalData?.applyButtonText:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",this.cancelButtonText=this.confirmationModalData?.cancelButtonText?this.confirmationModalData?.cancelButtonText:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(m.WI))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-confirmation-modal"]],decls:20,vars:8,consts:[[1,"header"],[3,"mat-dialog-close"],[1,"separator"],[1,"content"],[1,"buttons-wrapper"],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t._UZ(3,"i",1),t.qZA(),t._UZ(4,"mat-divider",2),t.TgZ(5,"div",3)(6,"span"),t._uU(7,"\u0412 \u044d\u0442\u0438 \u0434\u0430\u0442\u044b \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c"),t.qZA(),t.TgZ(8,"strong")(9,"u"),t._uU(10),t.qZA()(),t.TgZ(11,"span"),t._uU(12),t.qZA()(),t._UZ(13,"mat-divider",2),t.TgZ(14,"div",4)(15,"div",5)(16,"button",6),t._uU(17),t.qZA(),t.TgZ(18,"button",7),t._uU(19),t.qZA()()()),2&o&&(t.xp6(2),t.Oqu(a.title),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(7),t.Oqu(a.name),t.xp6(2),t.hij("",a.reason," \u0441\u0431\u0440\u043e\u0441\u0438\u0442 \u0434\u0430\u043d\u043d\u043e\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435."),t.xp6(4),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.hij(" ",a.cancelButtonText," "),t.xp6(1),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",a.applyButtonText," "))},dependencies:[d.lW,m.ZT,M.d],styles:['.content[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{padding:0 24px;font-family:Roboto,serif}[_nghost-%COMP%]{padding:24px 0;display:block}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{position:absolute;top:7px;left:-12px;display:block;content:"";width:14px;height:14px;background-image:url(cross.8b1f2376fb163770.svg);cursor:pointer}h3[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.25px;color:#005f75;margin:0}.content[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px;color:#656565}.separator[_ngcontent-%COMP%]{margin:24px 0}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-family:Roboto,serif;font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Roboto,serif;font-style:normal;font-weight:400;margin-right:24px;line-height:20px;padding:16px;text-transform:uppercase}'],changeDetection:0})}return n})();var p=function(n){return n.ArchiveTitle="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",n.ArchiveReason="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",n.ArchiveApplyButtonText="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.BlockTitle="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",n.BlockReason="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430",n.BlockApplyButtonText="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.BlockCancelButtonText="\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n}(p||{}),v=function(n){return n.Name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",n.NameSubstring="\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",n.InventoryNumber="\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",n}(v||{});let Q=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-fake-input"]],inputs:{label:"label",text:"text"},decls:5,vars:2,consts:[[1,"label"],[1,"text"],[1,"separator"]],template:function(o,a){1&o&&(t.TgZ(0,"span",0),t._uU(1),t.qZA(),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t._UZ(4,"div",2)),2&o&&(t.xp6(1),t.Oqu(a.label),t.xp6(2),t.Oqu(a.text))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-left:16px}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:16px;color:#5f5f5f}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .separator[_ngcontent-%COMP%]{border-bottom:1px solid #656565;margin-top:10px}"],changeDetection:0})}return n})();function Y(n,i){if(1&n&&t._UZ(0,"lc-fake-input",9),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.Name)("text",e.equipment.name)}}function I(n,i){if(1&n&&t._UZ(0,"lc-fake-input",9),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.NameSubstring)("text",e.equipment.name_substring)}}function j(n,i){if(1&n&&t._UZ(0,"lc-fake-input",9),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.InventoryNumber)("text",e.inventoryNumber)}}let R=(()=>{class n{constructor(e){this.equipment=e,this.ModalEnum=p,this.LabelEnum=v,this.inventoryNumber=String(this.equipment.inventoryNumber)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(m.WI))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-archive-equipment-modal"]],decls:18,vars:8,consts:[[1,"header"],[3,"mat-dialog-close"],[1,"separator"],[1,"content"],[3,"label","text",4,"ngIf"],[1,"buttons-wrapper"],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],[3,"label","text"]],template:function(o,a){1&o&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t._UZ(3,"i",1),t.qZA(),t._UZ(4,"mat-divider",2),t.TgZ(5,"div",3)(6,"p"),t._uU(7," \u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u201c\u0412 \u0430\u0440\u0445\u0438\u0432\u0435\u201d \u0438 \u0441\u043a\u0440\u043e\u0435\u0442\u0441\u044f \u0438\u0437 \u043e\u0431\u0449\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435. "),t.qZA(),t.YNc(8,Y,1,2,"lc-fake-input",4),t.YNc(9,I,1,2,"lc-fake-input",4),t.YNc(10,j,1,2,"lc-fake-input",4),t.qZA(),t._UZ(11,"mat-divider",2),t.TgZ(12,"div",5)(13,"div",6)(14,"button",7),t._uU(15," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),t.qZA(),t.TgZ(16,"button",8),t._uU(17),t.qZA()()()),2&o&&(t.xp6(2),t.Oqu(a.ModalEnum.ArchiveTitle),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(5),t.Q6J("ngIf",a.equipment.name),t.xp6(1),t.Q6J("ngIf",a.equipment.name_substring),t.xp6(1),t.Q6J("ngIf",a.equipment.inventoryNumber),t.xp6(4),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",a.ModalEnum.ArchiveApplyButtonText," "))},dependencies:[h.O5,Q,d.lW,m.ZT,M.d],styles:['.content[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{padding:0 24px}[_nghost-%COMP%]{padding:24px 0;display:block}lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{position:absolute;top:7px;left:-12px;display:block;content:"";width:14px;height:14px;background-image:url(cross.8b1f2376fb163770.svg);cursor:pointer}h3[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.25px;color:#005f75;margin:0}.content[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:24px;color:#000}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px}.content[_ngcontent-%COMP%]   lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}.content[_ngcontent-%COMP%]   lc-text-like-input[_ngcontent-%COMP%]:last-child{margin-bottom:45px}.separator[_ngcontent-%COMP%]{margin:24px 0}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-style:normal;font-weight:400;margin-right:24px;line-height:20px;padding:16px;text-transform:uppercase}'],changeDetection:0})}return n})();var $=u(5619),x=u(9397),C=u(2181),f=u(4664),J=u(2096),U=u(6306),s=u(6223),g=u(388),W=u(5659),y=u(8034),z=u(2032),O=u(4170);function G(n,i){if(1&n&&t._UZ(0,"lc-fake-input",16),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.Name)("text",e.equipment.name)}}function L(n,i){if(1&n&&t._UZ(0,"lc-fake-input",16),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.NameSubstring)("text",e.equipment.name_substring)}}function X(n,i){if(1&n&&t._UZ(0,"lc-fake-input",16),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.InventoryNumber)("text",e.inventoryNumber)}}let E=class Z{constructor(i,e,o){this.equipment=i,this.dialogRef=e,this.fb=o,this.ModalEnum=p,this.LabelEnum=v,this.inventoryNumber=String(this.equipment.inventoryNumber),this.form=this.fb.group({startDate:[null,s.kI.required],endDate:[null,s.kI.required]}),this.endDateFilter=a=>{const l=a?new Date(a.getFullYear(),a.getMonth(),a.getDate()):null;return l?l>=this.minEndDate:!!l}}ngOnInit(){this.form.get("startDate")?.valueChanges.pipe((0,g.t)(this)).subscribe(i=>{this.minEndDate=i})}onClose(){this.form.valid?this.dialogRef.close(this.form.getRawValue()):this.form.markAllAsTouched()}static#t=this.\u0275fac=function(e){return new(e||Z)(t.Y36(m.WI),t.Y36(m.so),t.Y36(s.QS))};static#n=this.\u0275cmp=t.Xpm({type:Z,selectors:[["lc-block-equipment-modal"]],decls:32,vars:14,consts:[[1,"header"],[3,"mat-dialog-close"],[1,"separator"],[1,"content"],[3,"label","text",4,"ngIf"],[3,"formGroup"],["appearance","fill",1,"date"],["matInput","","formControlName","startDate","lcValidationErrors","",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate","lcValidationErrors","",3,"matDatepicker","matDatepickerFilter"],["endDatePicker",""],[1,"buttons-wrapper"],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"click"],[3,"label","text"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t._UZ(3,"i",1),t.qZA(),t._uU(4,"\n<"),t._UZ(5,"mat-divider",2),t.TgZ(6,"div",3),t.YNc(7,G,1,2,"lc-fake-input",4),t.YNc(8,L,1,2,"lc-fake-input",4),t.YNc(9,X,1,2,"lc-fake-input",4),t.TgZ(10,"form",5)(11,"mat-form-field",6)(12,"mat-label"),t._uU(13,"\u041d\u0430\u0447\u0430\u043b\u043e"),t.qZA(),t._UZ(14,"input",7)(15,"mat-datepicker-toggle",8)(16,"mat-datepicker",null,9),t.qZA(),t.TgZ(18,"mat-form-field",6)(19,"mat-label"),t._uU(20,"\u041a\u043e\u043d\u0435\u0446"),t.qZA(),t._UZ(21,"input",10)(22,"mat-datepicker-toggle",8)(23,"mat-datepicker",null,11),t.qZA()()(),t._UZ(25,"mat-divider",2),t.TgZ(26,"div",12)(27,"div",13)(28,"button",14),t._uU(29),t.qZA(),t.TgZ(30,"button",15),t.NdJ("click",function(){return o.onClose()}),t._uU(31),t.qZA()()()),2&e){const a=t.MAs(17),l=t.MAs(24);t.xp6(2),t.Oqu(o.ModalEnum.BlockTitle),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(4),t.Q6J("ngIf",o.equipment.name),t.xp6(1),t.Q6J("ngIf",o.equipment.name_substring),t.xp6(1),t.Q6J("ngIf",o.equipment.inventoryNumber),t.xp6(1),t.Q6J("formGroup",o.form),t.xp6(4),t.Q6J("matDatepicker",a),t.xp6(1),t.Q6J("for",a),t.xp6(6),t.Q6J("matDatepicker",l)("matDatepickerFilter",o.endDateFilter),t.xp6(1),t.Q6J("for",l),t.xp6(6),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.hij(" ",o.ModalEnum.BlockCancelButtonText," "),t.xp6(2),t.hij(" ",o.ModalEnum.BlockApplyButtonText," ")}},dependencies:[h.O5,Q,W.D,d.lW,y.Mq,y.hl,y.nW,m.ZT,z.Nt,O.KE,O.hX,O.R9,M.d,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u],styles:['.content[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{padding:0 24px}[_nghost-%COMP%]{padding:24px 0;display:block}lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{position:absolute;top:7px;left:-12px;display:block;content:"";width:14px;height:14px;background-image:url(cross.8b1f2376fb163770.svg);cursor:pointer}h3[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.25px;color:#005f75;margin:0}.content[_ngcontent-%COMP%]   lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}.separator[_ngcontent-%COMP%]{margin:24px 0}form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{max-width:200px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-style:normal;font-weight:400;margin-right:24px;line-height:20px;padding:16px;text-transform:uppercase}'],changeDetection:0})};E=(0,w.gn)([g.c],E);var r=function(n){return n.Block="lock",n.Archivate="archive",n.Edit="edit",n}(r||{});const H=[{header:"\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",columnDef:"inventoryNumber",style:{"width.px":150}},{header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",columnDef:"name",style:null},{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",columnDef:"title",style:null},{header:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",columnDef:"category",style:{"width.px":150}},{header:"\u0421\u0442\u0430\u0442\u0443\u0441",columnDef:"status",style:{"width.px":150}},{header:"",columnDef:r.Block,action:r.Block,tooltip:"\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",style:{"width.px":32}},{header:"",columnDef:r.Edit,action:r.Edit,tooltip:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",style:{"width.px":32}},{header:"",columnDef:r.Archivate,action:r.Archivate,tooltip:"\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",style:{"width.px":32}}];var K=u(7626);let _=class b{get equipmentData$(){return this.equipmentDataSubj$.asObservable()}constructor(i,e,o){this.dialog=i,this.api=e,this.notificationService=o,this.equipmentColumns=H,this.equipmentDataSubj$=new $.X([])}editEquipment(i){switch(i.action){case r.Block:case r.Edit:case r.Archivate:console.log(i.action)}}fetchEquipments(){return this.api.getAllEquipment().pipe((0,x.b)(i=>this.equipmentDataSubj$.next(i.items)))}blockEquipment(i){let e;this.openBlockEquipmentModal(i).pipe((0,C.h)(Boolean),(0,f.w)(o=>(e=o,this.api.getEquipmentAvailable(o))),(0,f.w)(o=>o?this.openBlockConfirmation(o):(0,J.of)(!0)),(0,C.h)(Boolean),(0,f.w)(()=>this.api.blockEquipment(i.id,e)),(0,x.b)(()=>this.notificationService.openSuccess(`${i.title} \u0431\u044b\u043b\u043e \u0437\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e!`)),(0,g.t)(this),(0,U.K)(o=>{throw this.notificationService.openError(o),new Error(o)})).subscribe()}archivateEquipment(i){let e;this.openArchiveEquipmentModal(i).pipe((0,C.h)(Boolean),(0,f.w)(o=>(e=o,this.api.getEquipmentAvailable(o))),(0,f.w)(o=>o?this.openArchiveConfirmation(o):(0,J.of)(!0)),(0,C.h)(Boolean),(0,f.w)(()=>this.api.blockEquipment(i.id,e)),(0,x.b)(()=>this.notificationService.openSuccess(`${i.title} \u0431\u044b\u043b\u043e \u0437\u0430 \u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e!`)),(0,g.t)(this),(0,U.K)(o=>{throw this.notificationService.openError(o),new Error(o)})).subscribe()}openArchiveConfirmation(i){return this.dialog.open(B,{maxWidth:472,minWidth:472,autoFocus:!1,data:{name:i,title:p.ArchiveTitle,reason:p.ArchiveReason,applyButtonText:p.ArchiveApplyButtonText}}).afterClosed().pipe((0,x.b)())}openBlockConfirmation(i){return this.dialog.open(B,{maxWidth:472,minWidth:472,autoFocus:!1,data:{name:i,title:p.BlockTitle,reason:p.BlockReason,applyButtonText:p.BlockApplyButtonText}}).afterClosed()}openArchiveEquipmentModal(i){return this.dialog.open(R,{maxWidth:472,minWidth:472,autoFocus:!1,data:i}).afterClosed()}openBlockEquipmentModal(i){return this.dialog.open(E,{maxWidth:472,minWidth:472,autoFocus:!1,data:i}).afterClosed()}static#t=this.\u0275fac=function(e){return new(e||b)(t.LFG(m.uw),t.LFG(q),t.LFG(K.T))};static#n=this.\u0275prov=t.Yz7({token:b,factory:b.\u0275fac})};_=(0,w.gn)([g.c],_);var T=u(3566),N=u(1476),c=u(9538),V=u(617),tt=u(2596);function nt(n,i){if(1&n&&(t.TgZ(0,"th",10),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.header)}}function et(n,i){1&n&&(t.ynx(0),t.YNc(1,nt,2,1,"th",9),t.BQk())}function ot(n,i){if(1&n&&(t.TgZ(0,"th",12),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.header)}}function it(n,i){1&n&&(t.ynx(0),t.YNc(1,ot,2,1,"th",11),t.BQk())}function at(n,i){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit,o=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[o.columnDef]," ")}}function ut(n,i){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",15),t.NdJ("click",function(){t.CHM(e);const a=t.oxw().$implicit,l=t.oxw().$implicit,P=t.oxw();return t.KtG(P.editRow({row:a,action:l.action}))}),t.TgZ(2,"mat-icon",16),t._uU(3),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2).$implicit;t.xp6(3),t.Oqu(e.action)}}function lt(n,i){if(1&n&&(t.TgZ(0,"td",13)(1,"span",14),t.YNc(2,at,2,1,"ng-container",7),t.YNc(3,ut,4,1,"ng-container",7),t.qZA()()),2&n){const e=t.oxw().$implicit;t.Q6J("ngStyle",e.style),t.xp6(1),t.Q6J("matTooltip",e.tooltip?e.tooltip:""),t.xp6(1),t.Q6J("ngIf",!e.action),t.xp6(1),t.Q6J("ngIf",e.action)}}function ct(n,i){if(1&n&&(t.ynx(0,6),t.YNc(1,et,2,0,"ng-container",7),t.YNc(2,it,2,0,"ng-container",7),t.YNc(3,lt,4,4,"td",8),t.BQk()),2&n){const e=i.$implicit;t.Q6J("matColumnDef",e.columnDef),t.xp6(1),t.Q6J("ngIf",e.action),t.xp6(1),t.Q6J("ngIf",!e.action)}}function st(n,i){1&n&&t._UZ(0,"tr",17)}function rt(n,i){1&n&&t._UZ(0,"tr",18)}let pt=(()=>{class n{constructor(){this.columns=[],this.data=[],this.limit=10,this.action=new t.vpe,this.total=0}ngOnChanges(e){e.data&&(this.total=this.data.length,this.dataSource=this.getMatTableData(this.data))}get displayedColumns(){return this.columns.map(e=>e.columnDef)}editRow(e){this.action.emit(e)}getMatTableData(e){const o=new c.by(e);return this.sort&&this.dataSource&&(o.sort=this.sort),this.paginator&&(o.paginator=this.paginator),o}static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-table"]],viewQuery:function(o,a){if(1&o&&(t.Gf(N.NW,5),t.Gf(T.YE,5)),2&o){let l;t.iGM(l=t.CRH())&&(a.paginator=l.first),t.iGM(l=t.CRH())&&(a.sort=l.first)}},inputs:{columns:"columns",data:"data",limit:"limit"},outputs:{action:"action"},features:[t.TTD],decls:6,vars:6,consts:[["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["hidePageSize","",1,"paginator",3,"length","pageSize"],["paginator",""],[3,"matColumnDef"],[4,"ngIf"],["mat-cell","",3,"ngStyle",4,"matCellDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngStyle"],[3,"matTooltip"],["mat-icon-button","",3,"click"],["fontSet","material-icons-outlined"],["mat-header-row",""],["mat-row",""]],template:function(o,a){1&o&&(t.TgZ(0,"table",0),t.YNc(1,ct,4,3,"ng-container",1),t.YNc(2,st,1,0,"tr",2),t.YNc(3,rt,1,0,"tr",3),t.qZA(),t._UZ(4,"mat-paginator",4,5)),2&o&&(t.Q6J("dataSource",a.dataSource),t.xp6(1),t.Q6J("ngForOf",a.columns),t.xp6(1),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns),t.xp6(1),t.Q6J("length",a.total)("pageSize",a.limit))},dependencies:[h.sg,h.O5,h.PC,d.RK,V.Hw,N.NW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,tt.gM,T.YE,T.nU],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{padding-left:16px}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{padding-right:16px}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}"],changeDetection:0})}return n})();const mt=function(){return[]};let F=(()=>{class n{constructor(e){this.controller=e,this.columns=this.controller.equipmentColumns,this.data$=this.controller.equipmentData$}ngOnInit(){this.controller.fetchEquipments().subscribe()}editEquipment(e){this.controller.editEquipment(e)}static#t=this.\u0275fac=function(o){return new(o||n)(t.Y36(_))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-equipments"]],features:[t._Bn([_])],decls:2,vars:5,consts:[[3,"columns","data","action"]],template:function(o,a){1&o&&(t.TgZ(0,"lc-table",0),t.NdJ("action",function(P){return a.editEquipment(P)}),t.ALo(1,"async"),t.qZA()),2&o&&t.Q6J("columns",a.columns)("data",t.lcZ(1,2,a.data$)||t.DdM(4,mt))},dependencies:[pt,h.Ov],styles:["div[_ngcontent-%COMP%]{margin:16px}.wrap[_ngcontent-%COMP%]{width:300px}"],changeDetection:0})}return n})();var D=u(4614),ht=u(1607);const ft=[{path:"",redirectTo:D.$.Equipments,pathMatch:"full"},{path:D.$.Equipments,pathMatch:"full",component:F},{path:D.$.Users,pathMatch:"full",component:F}];let gt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({providers:[ht.u],imports:[A.Bz.forChild(ft),A.Bz]})}return n})();var dt=u(325);let xt=(()=>{class n{static#t=this.\u0275fac=function(o){return new(o||n)};static#n=this.\u0275mod=t.oAB({type:n});static#e=this.\u0275inj=t.cJS({providers:[q],imports:[h.ez,gt,dt.m,s.UX]})}return n})()}}]);