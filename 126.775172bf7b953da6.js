"use strict";(self.webpackChunklc_fe=self.webpackChunklc_fe||[]).push([[126],{4126:(B,l,r)=>{r.r(l),r.d(l,{UserProfile:()=>y});var a=r(6814),t=r(6223),m=r(9316),s=r(3680),h=r(2877),u=r(5879),A=r(2096),C=r(9862);let f=(()=>{class o{constructor(e){this.httpClient=e}updateUserInfo(e){return(0,A.of)(e)}getWorkArias(){return this.httpClient.get("/api/v1/active_areas")}static#u=this.\u0275fac=function(n){return new(n||o)(u.LFG(C.eN))};static#t=this.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac})}return o})(),c=(()=>{class o{constructor(e){this.api=e}cancel(e){e.reset()}fillProfile(e){this.api.updateUserInfo(e).subscribe(()=>{})}loadActiveAreas(){return this.api.getWorkArias()}static#u=this.\u0275fac=function(n){return new(n||o)(u.LFG(f))};static#t=this.\u0275prov=u.Yz7({token:o,factory:o.\u0275fac})}return o})();var Z=r(543),I=r(2296),E=r(2032),p=r(4170),F=r(8525);function v(o,d){if(1&o&&(u.TgZ(0,"mat-option",20),u._uU(1),u.qZA()),2&o){const e=d.$implicit;u.Q6J("value",e.id),u.xp6(1),u.hij(" ",e.name," ")}}function D(o,d){1&o&&(u.TgZ(0,"div"),u._uU(1," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043b\u044f "),u.qZA())}const b=[{path:"",component:(()=>{class o{constructor(e,n){this.controller=e,this.mainPageHeaderService=n,this.isFormSubmitted=!1,this.activeAreas=this.loadActiveAreas(),this.userInfoForm=new t.nJ({surname:new t.p4("",[t.kI.required,t.kI.maxLength(49),t.kI.pattern(/^[-\u0430-\u044f\u0410-\u042f\u0451\u0401]+$/)]),name:new t.p4("",[t.kI.required,t.kI.maxLength(49),t.kI.pattern(/^[-\u0430-\u044f\u0410-\u042f\u0451\u0401]+$/)]),patronymic:new t.p4("",[t.kI.maxLength(49),t.kI.pattern(/^[-\u0430-\u044f\u0410-\u042f\u0451\u0401]+$/)]),documentNumber:new t.p4("",[t.kI.required,t.kI.maxLength(49)]),documentIssuingInfo:new t.p4("",[t.kI.required,t.kI.maxLength(149),t.kI.pattern(/^[-\u0430-\u044f\u0410-\u042f\u0451\u0401]+$/)]),phoneNumber:new t.p4("",[t.kI.required,t.kI.maxLength(24)]),email:new t.p4("",[t.kI.required,t.kI.maxLength(49),t.kI.email]),status:new t.p4(""),organizationName:new t.p4("",[t.kI.maxLength(149)]),organizationContact:new t.p4("",[t.kI.maxLength(149)]),personalAccount:new t.p4("",[t.kI.maxLength(149)]),workDistrict:new t.p4("")}),this.mainPageHeaderService.setPageTitle("\u041f\u0440\u043e\u0444\u0438\u043b\u044c")}disableKeyboardInput(e,n){if("Backspace"===e.key)return;const i=this.userInfoForm.get(n);return!(i?.errors&&(i.errors.maxlength||i.errors.max))}onCancel(){this.controller.cancel(this.userInfoForm)}onSubmit(){if(this.isFormSubmitted=!0,this.userInfoForm.valid){const e=this.userInfoForm.value;this.controller.fillProfile({surname:e.surname,name:e.name,patronymic:e.patronymic,documentNumber:e.documentNumber,documentIssuingInfo:e.documentIssuingInfo,phoneNumber:e.phoneNumber,email:e.email,status:e.status,organizationName:e.organizationName,organizationContact:e.organizationContact,personalAccount:e.personalAccount,activeArea:e.workDistrict})}}loadActiveAreas(){return this.controller.loadActiveAreas()}static#u=this.\u0275fac=function(n){return new(n||o)(u.Y36(c),u.Y36(Z.I))};static#t=this.\u0275cmp=u.Xpm({type:o,selectors:[["lc-fill-profile"]],features:[u._Bn([c,{provide:s.rD,useClass:h.D}])],decls:58,vars:5,consts:[[1,"fill-profile"],[1,"fill-profile-form",3,"formGroup"],["appearance","fill","floatLabel","auto",1,"fill-profile-form-input"],["matInput","","formControlName","surname",3,"keydown"],["matInput","","formControlName","name"],["matInput","","formControlName","patronymic"],["matInput","","formControlName","documentNumber"],["matInput","","formControlName","documentIssuingInfo"],["matInput","","formControlName","phoneNumber"],["matInput","","formControlName","email"],["formControlName","status"],["matInput","","formControlName","organizationName"],["matInput","","formControlName","organizationContact"],["matInput","","formControlName","personalAccount"],["formControlName","workDistrict","multiple",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"fill-profile-form-controls"],["type","reset","mat-raised-button","",1,"fill-profile-form-controls-button",3,"click"],["type","submit","mat-raised-button","","color","primary",1,"fill-profile-form-controls-button",3,"click"],[3,"value"]],template:function(n,i){1&n&&(u.TgZ(0,"main",0)(1,"form",1)(2,"mat-form-field",2)(3,"mat-label"),u._uU(4,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f: "),u.qZA(),u.TgZ(5,"input",3),u.NdJ("keydown",function(k){return i.disableKeyboardInput(k,"surname")}),u.qZA()(),u.TgZ(6,"mat-form-field",2)(7,"mat-label"),u._uU(8,"\u0418\u043c\u044f: "),u.qZA(),u._UZ(9,"input",4),u.qZA(),u.TgZ(10,"mat-form-field",2)(11,"mat-label"),u._uU(12,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e (\u0435\u0441\u043b\u0438 \u0438\u043c\u0435\u0435\u0442\u0441\u044f): "),u.qZA(),u._UZ(13,"input",5),u.qZA(),u.TgZ(14,"mat-form-field",2)(15,"mat-label"),u._uU(16,"\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430, \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0435\u0433\u043e \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c: "),u.qZA(),u._UZ(17,"input",6),u.qZA(),u.TgZ(18,"mat-form-field",2)(19,"mat-label"),u._uU(20,"\u041a\u0435\u043c \u0438 \u043a\u043e\u0433\u0434\u0430 \u0432\u044b\u0434\u0430\u043d \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442, \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0438\u0439 \u043b\u0438\u0447\u043d\u043e\u0441\u0442\u044c: "),u.qZA(),u._UZ(21,"input",7),u.qZA(),u.TgZ(22,"mat-form-field",2)(23,"mat-label"),u._uU(24,"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430: "),u.qZA(),u._UZ(25,"input",8),u.qZA(),u.TgZ(26,"mat-form-field",2)(27,"mat-label"),u._uU(28,"\u0410\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b: "),u.qZA(),u._UZ(29,"input",9),u.qZA(),u.TgZ(30,"mat-form-field",2)(31,"mat-label"),u._uU(32,"\u0421\u0442\u0430\u0442\u0443\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: "),u.qZA(),u._UZ(33,"mat-select",10),u.qZA(),u.TgZ(34,"mat-form-field",2)(35,"mat-label"),u._uU(36,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0437\u043e\u043e\u0437\u0430\u0449\u0438\u0442\u043d\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438: "),u.qZA(),u._UZ(37,"input",11),u.qZA(),u.TgZ(38,"mat-form-field",2)(39,"mat-label"),u._uU(40,"\u0421\u0430\u0439\u0442/\u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0437\u043e\u043e\u0437\u0430\u0449\u0438\u0442\u043d\u043e\u0439 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438: "),u.qZA(),u._UZ(41,"input",12),u.qZA(),u.TgZ(42,"mat-form-field",2)(43,"mat-label"),u._uU(44,"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0435\u0442\u044f\u0445: "),u.qZA(),u._UZ(45,"input",13),u.qZA(),u.TgZ(46,"mat-form-field",2)(47,"mat-label"),u._uU(48,"\u0420\u0430\u0439\u043e\u043d\u044b \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0436\u0438\u0432\u043e\u0442\u043d\u044b\u043c\u0438: "),u.qZA(),u.TgZ(49,"mat-select",14),u.YNc(50,v,2,2,"mat-option",15),u.ALo(51,"async"),u.qZA()(),u.YNc(52,D,2,0,"div",16),u.TgZ(53,"div",17)(54,"button",18),u.NdJ("click",function(){return i.onCancel()}),u._uU(55,"\u041e\u0442\u043c\u0435\u043d\u0430"),u.qZA(),u.TgZ(56,"button",19),u.NdJ("click",function(){return i.onSubmit()}),u._uU(57,"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),u.qZA()()()()),2&n&&(u.xp6(1),u.Q6J("formGroup",i.userInfoForm),u.xp6(49),u.Q6J("ngForOf",u.lcZ(51,3,i.activeAreas)),u.xp6(2),u.Q6J("ngIf",i.isFormSubmitted&&!i.userInfoForm.valid))},dependencies:[a.sg,a.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,I.lW,E.Nt,p.KE,p.hX,F.gD,s.ey,a.Ov],styles:["[_nghost-%COMP%]{display:block}.fill-profile[_ngcontent-%COMP%]{padding:30px 20px;display:flex;justify-content:center}.fill-profile-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:50%}.fill-profile-form-input[_ngcontent-%COMP%]{width:100%}.fill-profile-form-controls[_ngcontent-%COMP%]{padding-top:24px}.fill-profile-form-controls-button[_ngcontent-%COMP%]:not(:first-child){margin-left:16px}"],changeDetection:0})}return o})()}];let N=(()=>{class o{static#u=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=u.oAB({type:o});static#e=this.\u0275inj=u.cJS({imports:[m.Bz.forChild(b),m.Bz]})}return o})();var U=r(325);let y=(()=>{class o{static#u=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=u.oAB({type:o});static#e=this.\u0275inj=u.cJS({providers:[f],imports:[a.ez,N,t.UX,U.m]})}return o})()}}]);