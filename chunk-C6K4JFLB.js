import{a as A,b as f}from"./chunk-LZ2QOJRI.js";import{$c as j,A as c,B as a,D,Ga as m,J as g,K as P,La as T,N as C,O as s,Q as l,R as p,Rb as R,Ua as O,V as x,Vc as k,W as d,X as r,ca as E,f as y,ga as F,ha as B,ja as u,la as w,ma as I,na as U,ua as M,va as S,x as b,xa as V,y as v}from"./chunk-LUI5EWE7.js";var $=e=>({label:"\u042D\u043B. \u043F\u043E\u0447\u0442\u0430",text:e}),N=e=>[e],q=e=>({label:"\u0418\u043C\u044F",text:e}),z=e=>({label:"\u0424\u0430\u043C\u0438\u043B\u0438\u044F",text:e}),G=e=>({label:"\u041C\u043E\u0431\u0438\u043B\u044C\u043D\u044B\u0439 \u0442\u0435\u043B\u0435\u0444\u043E\u043D",text:e}),H=(e,i,t)=>[e,i,t];function J(e,i){if(e&1){let t=x();l(0,"lc-user-details",7),d("edited",function(){c(t);let n=r().ngIf,_=r();return a(_.editUserDetails(n))}),p()}if(e&2){let t=r().ngIf;s("title","\u041F\u0435\u0440\u0441\u043E\u043D\u0430\u043B\u044C\u043D\u044B\u0435 \u0434\u0430\u043D\u043D\u044B\u0435")("details",w(8,H,u(2,q,t.name),u(4,z,t.surname),u(6,G,t.phone_number)))}}function K(e,i){if(e&1){let t=x();l(0,"div",1)(1,"div",2),C(2,J,1,12,"lc-user-details",3),l(3,"lc-user-details",4),d("edited",function(){let n=c(t).ngIf,_=r();return a(_.changeEmail(n.email))}),p()(),l(4,"div",5)(5,"button",6),d("click",function(){c(t);let n=r();return a(n.logout())}),E(6,"\u0412\u042B\u0419\u0422\u0418"),p()()()}if(e&2){let t=i.ngIf;g(2),s("ngIf",t.is_registration_confirmed),g(),s("title","\u0414\u0430\u043D\u043D\u044B\u0435 \u0434\u043B\u044F \u0432\u0445\u043E\u0434\u0430")("details",u(5,N,u(3,$,t.email)))}}var h=class e{constructor(i){this.controller=i,this.destroyRef=b(D)}ngOnInit(){this.controller.setPageTitle()}logout(){this.controller.logout()}editUserDetails(i){let{name:t,phone_number:o,surname:n}=i;this.controller.openPersonalInfoModal({name:t,surname:n,phone_number:o}).pipe(m(this.destroyRef)).subscribe()}changeEmail(i){this.controller.changeEmail(i).pipe(m(this.destroyRef)).subscribe()}deleteProfile(){this.controller.deleteUserProfile().pipe(m(this.destroyRef)).subscribe()}static{this.\u0275fac=function(t){return new(t||e)(P(f))}}static{this.\u0275cmp=v({type:e,selectors:[["lc-user-profile"]],standalone:!0,features:[F([f,A]),B],decls:2,vars:3,consts:[["class","profile-container",4,"ngIf"],[1,"profile-container"],[1,"details"],[3,"title","details","edited",4,"ngIf"],[1,"login-details",3,"edited","title","details"],[1,"actions"],["mat-button","","color","primary",1,"sign-out-btn","action-btn",3,"click"],[3,"edited","title","details"]],template:function(t,o){t&1&&(C(0,K,7,7,"div",0),I(1,"async")),t&2&&s("ngIf",U(1,1,o.user$))},dependencies:[j,k,O,V,M,S],styles:[".profile-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;display:flex;flex-direction:column;justify-content:space-between;padding:24px;height:100%}.login-details[_ngcontent-%COMP%]{margin-top:40px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;gap:16px}.action-btn[_ngcontent-%COMP%]{padding:16px}"],changeDetection:0})}};y([T(R.user)],h.prototype,"user$",void 0);export{h as UserProfileComponent};
