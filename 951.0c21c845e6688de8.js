"use strict";(self.webpackChunklc_fe=self.webpackChunklc_fe||[]).push([[951],{2951:(xt,D,a)=>{a.r(D),a.d(D,{AdminModule:()=>ht});var g=a(9808),v=a(5089),A=a(520),t=a(5e3);let q=(()=>{class e{constructor(n){this.http=n}getAllEquipment(n=0,i=10){const u=i*n,l=(new A.LE).set("limit",i).set("offset",u);return this.http.get("equipment",{params:l})}getEquipmentAvailable(n){return this.http.post("equipment/availability",n)}blockEquipment(n,i){return this.http.put(`equipment/availability/${n}`,i)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(A.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var Z=a(7582),d=a(8966),b=a(7423);let w=(()=>{class e{constructor(n){var i,u,l,y;this.confirmationModalData=n,this.title=this.confirmationModalData.title,this.name=this.confirmationModalData.name,this.reason=this.confirmationModalData.reason,this.applyButtonText=(null===(i=this.confirmationModalData)||void 0===i?void 0:i.applyButtonText)?null===(u=this.confirmationModalData)||void 0===u?void 0:u.applyButtonText:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",this.cancelButtonText=(null===(l=this.confirmationModalData)||void 0===l?void 0:l.cancelButtonText)?null===(y=this.confirmationModalData)||void 0===y?void 0:y.cancelButtonText:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lc-confirmation-modal"]],decls:20,vars:8,consts:[[1,"header"],[3,"mat-dialog-close"],[1,"separator"],[1,"content"],[1,"buttons-wrapper"],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t._UZ(3,"i",1),t.qZA(),t._UZ(4,"div",2),t.TgZ(5,"div",3)(6,"span"),t._uU(7,"\u0412 \u044d\u0442\u0438 \u0434\u0430\u0442\u044b \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c"),t.qZA(),t.TgZ(8,"strong")(9,"u"),t._uU(10),t.qZA()(),t.TgZ(11,"span"),t._uU(12),t.qZA()(),t._UZ(13,"div",2),t.TgZ(14,"div",4)(15,"div",5)(16,"button",6),t._uU(17),t.qZA(),t.TgZ(18,"button",7),t._uU(19),t.qZA()()()),2&n&&(t.xp6(2),t.Oqu(i.title),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(7),t.Oqu(i.name),t.xp6(2),t.hij("",i.reason," \u0441\u0431\u0440\u043e\u0441\u0438\u0442 \u0434\u0430\u043d\u043d\u043e\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435."),t.xp6(4),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.hij(" ",i.cancelButtonText," "),t.xp6(1),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",i.applyButtonText," "))},directives:[d.ZT,b.lW],styles:['.content[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{padding:0 24px;font-family:Roboto,serif}[_nghost-%COMP%]{padding:24px 0;display:block}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{position:absolute;top:7px;left:-12px;display:block;content:"";width:14px;height:14px;background-image:url(cross.8b1f2376fb163770.svg);cursor:pointer}h3[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.25px;color:#005f75;margin:0}.content[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px;color:#656565}.separator[_ngcontent-%COMP%]{border:.5px solid #CFDBE6;margin:24px 0}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-family:Roboto,serif;font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Roboto,serif;font-style:normal;font-weight:400;margin-right:24px;line-height:20px;padding:16px;text-transform:uppercase}'],changeDetection:0}),e})();var s=(()=>{return(e=s||(s={})).ArchiveTitle="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",e.ArchiveReason="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",e.ArchiveApplyButtonText="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",e.BlockTitle="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",e.BlockReason="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430",e.BlockApplyButtonText="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",e.BlockCancelButtonText="\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",s;var e})(),_=(()=>{return(e=_||(_={})).Name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",e.NameSubstring="\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",e.InventoryNumber="\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",_;var e})();let k=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["lc-fake-input"]],inputs:{label:"label",text:"text"},decls:5,vars:2,consts:[[1,"label"],[1,"text"],[1,"separator"]],template:function(n,i){1&n&&(t.TgZ(0,"span",0),t._uU(1),t.qZA(),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t._UZ(4,"div",2)),2&n&&(t.xp6(1),t.Oqu(i.label),t.xp6(2),t.Oqu(i.text))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-left:16px}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:16px;color:#5f5f5f}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{font-size:16px}[_nghost-%COMP%]   .separator[_ngcontent-%COMP%]{border-bottom:1px solid #656565;margin-top:10px}"],changeDetection:0}),e})();function Q(e,o){if(1&e&&t._UZ(0,"lc-fake-input",9),2&e){const n=t.oxw();t.Q6J("label",n.LabelEnum.Name)("text",n.equipment.name)}}function N(e,o){if(1&e&&t._UZ(0,"lc-fake-input",9),2&e){const n=t.oxw();t.Q6J("label",n.LabelEnum.NameSubstring)("text",n.equipment.name_substring)}}function U(e,o){if(1&e&&t._UZ(0,"lc-fake-input",9),2&e){const n=t.oxw();t.Q6J("label",n.LabelEnum.InventoryNumber)("text",n.inventoryNumber)}}let $=(()=>{class e{constructor(n){this.equipment=n,this.ModalEnum=s,this.LabelEnum=_,this.inventoryNumber=String(this.equipment.inventoryNumber)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(d.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lc-archive-equipment-modal"]],decls:18,vars:8,consts:[[1,"header"],[3,"mat-dialog-close"],[1,"separator"],[1,"content"],[3,"label","text",4,"ngIf"],[1,"buttons-wrapper"],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"],[3,"label","text"]],template:function(n,i){1&n&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t._UZ(3,"i",1),t.qZA(),t._UZ(4,"div",2),t.TgZ(5,"div",3)(6,"p"),t._uU(7," \u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u201c\u0412 \u0430\u0440\u0445\u0438\u0432\u0435\u201d \u0438 \u0441\u043a\u0440\u043e\u0435\u0442\u0441\u044f \u0438\u0437 \u043e\u0431\u0449\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435. "),t.qZA(),t.YNc(8,Q,1,2,"lc-fake-input",4),t.YNc(9,N,1,2,"lc-fake-input",4),t.YNc(10,U,1,2,"lc-fake-input",4),t.qZA(),t._UZ(11,"div",2),t.TgZ(12,"div",5)(13,"div",6)(14,"button",7),t._uU(15," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),t.qZA(),t.TgZ(16,"button",8),t._uU(17),t.qZA()()()),2&n&&(t.xp6(2),t.Oqu(i.ModalEnum.ArchiveTitle),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(5),t.Q6J("ngIf",i.equipment.name),t.xp6(1),t.Q6J("ngIf",i.equipment.name_substring),t.xp6(1),t.Q6J("ngIf",i.equipment.inventoryNumber),t.xp6(4),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",i.ModalEnum.ArchiveApplyButtonText," "))},directives:[d.ZT,g.O5,k,b.lW],styles:['.content[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{padding:0 24px}[_nghost-%COMP%]{padding:24px 0;display:block}lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{position:absolute;top:7px;left:-12px;display:block;content:"";width:14px;height:14px;background-image:url(cross.8b1f2376fb163770.svg);cursor:pointer}h3[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.25px;color:#005f75;margin:0}.content[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:24px;color:#000}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px}.content[_ngcontent-%COMP%]   lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}.content[_ngcontent-%COMP%]   lc-text-like-input[_ngcontent-%COMP%]:last-child{margin-bottom:45px}.separator[_ngcontent-%COMP%]{border:.5px solid #CFDBE6;margin:24px 0}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-style:normal;font-weight:400;margin-right:24px;line-height:20px;padding:16px;text-transform:uppercase}'],changeDetection:0}),e})();var E=a(1135),h=a(8505),M=a(9300),x=a(3900),B=a(9646),F=a(262),p=a(3075),C=a(5485),P=a(7322),I=a(7531),T=a(6856),j=a(1505);function Y(e,o){if(1&e&&t._UZ(0,"lc-fake-input",16),2&e){const n=t.oxw();t.Q6J("label",n.LabelEnum.Name)("text",n.equipment.name)}}function z(e,o){if(1&e&&t._UZ(0,"lc-fake-input",16),2&e){const n=t.oxw();t.Q6J("label",n.LabelEnum.NameSubstring)("text",n.equipment.name_substring)}}function R(e,o){if(1&e&&t._UZ(0,"lc-fake-input",16),2&e){const n=t.oxw();t.Q6J("label",n.LabelEnum.InventoryNumber)("text",n.inventoryNumber)}}let f=class{constructor(o,n,i){this.equipment=o,this.dialogRef=n,this.fb=i,this.ModalEnum=s,this.LabelEnum=_,this.inventoryNumber=String(this.equipment.inventoryNumber),this.form=this.fb.group({startDate:[null,p.kI.required],endDate:[null,p.kI.required]}),this.endDateFilter=u=>{const l=u?new Date(u.getFullYear(),u.getMonth(),u.getDate()):null;return l?l>=this.minEndDate:!!l}}ngOnInit(){var o;null===(o=this.form.get("startDate"))||void 0===o||o.valueChanges.pipe((0,C.t)(this)).subscribe(n=>{this.minEndDate=n})}onClose(){this.form.valid?this.dialogRef.close(this.form.getRawValue()):this.form.markAllAsTouched()}};f.\u0275fac=function(o){return new(o||f)(t.Y36(d.WI),t.Y36(d.so),t.Y36(p.qu))},f.\u0275cmp=t.Xpm({type:f,selectors:[["lc-block-equipment-modal"]],decls:31,vars:14,consts:[[1,"header"],[3,"mat-dialog-close"],[1,"separator"],[1,"content"],[3,"label","text",4,"ngIf"],[3,"formGroup"],["appearance","fill",1,"date"],["matInput","","formControlName","startDate","lcValidationErrors","",3,"matDatepicker"],["matSuffix","",3,"for"],["startDatePicker",""],["matInput","","formControlName","endDate","lcValidationErrors","",3,"matDatepicker","matDatepickerFilter"],["endDatePicker",""],[1,"buttons-wrapper"],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"click"],[3,"label","text"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"h3"),t._uU(2),t.qZA(),t._UZ(3,"i",1),t.qZA(),t._UZ(4,"div",2),t.TgZ(5,"div",3),t.YNc(6,Y,1,2,"lc-fake-input",4),t.YNc(7,z,1,2,"lc-fake-input",4),t.YNc(8,R,1,2,"lc-fake-input",4),t.TgZ(9,"form",5)(10,"mat-form-field",6)(11,"mat-label"),t._uU(12,"\u041d\u0430\u0447\u0430\u043b\u043e"),t.qZA(),t._UZ(13,"input",7)(14,"mat-datepicker-toggle",8)(15,"mat-datepicker",null,9),t.qZA(),t.TgZ(17,"mat-form-field",6)(18,"mat-label"),t._uU(19,"\u041a\u043e\u043d\u0435\u0446"),t.qZA(),t._UZ(20,"input",10)(21,"mat-datepicker-toggle",8)(22,"mat-datepicker",null,11),t.qZA()()(),t._UZ(24,"div",2),t.TgZ(25,"div",12)(26,"div",13)(27,"button",14),t._uU(28),t.qZA(),t.TgZ(29,"button",15),t.NdJ("click",function(){return n.onClose()}),t._uU(30),t.qZA()()()),2&o){const i=t.MAs(16),u=t.MAs(23);t.xp6(2),t.Oqu(n.ModalEnum.BlockTitle),t.xp6(1),t.Q6J("mat-dialog-close",!1),t.xp6(3),t.Q6J("ngIf",n.equipment.name),t.xp6(1),t.Q6J("ngIf",n.equipment.name_substring),t.xp6(1),t.Q6J("ngIf",n.equipment.inventoryNumber),t.xp6(1),t.Q6J("formGroup",n.form),t.xp6(4),t.Q6J("matDatepicker",i),t.xp6(1),t.Q6J("for",i),t.xp6(6),t.Q6J("matDatepicker",u)("matDatepickerFilter",n.endDateFilter),t.xp6(1),t.Q6J("for",u),t.xp6(6),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.hij(" ",n.ModalEnum.BlockCancelButtonText," "),t.xp6(2),t.hij(" ",n.ModalEnum.BlockApplyButtonText," ")}},directives:[d.ZT,g.O5,k,p._Y,p.JL,p.sg,P.KE,P.hX,I.Nt,p.Fj,T.hl,p.JJ,p.u,j.D,T.nW,P.R9,T.Mq,b.lW],styles:['.content[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]{padding:0 24px}[_nghost-%COMP%]{padding:24px 0;display:block}lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative}.header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{position:absolute;top:7px;left:-12px;display:block;content:"";width:14px;height:14px;background-image:url(cross.8b1f2376fb163770.svg);cursor:pointer}h3[_ngcontent-%COMP%]{font-style:normal;font-weight:700;font-size:20px;line-height:24px;letter-spacing:.25px;color:#005f75;margin:0}.content[_ngcontent-%COMP%]   lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}.separator[_ngcontent-%COMP%]{border:.5px solid #CFDBE6;margin:24px 0}form[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between}form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{max-width:200px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-style:normal;font-weight:400;margin-right:24px;line-height:20px;padding:16px;text-transform:uppercase}'],changeDetection:0}),f=(0,Z.gn)([C.c],f);var c=(()=>{return(e=c||(c={})).Block="lock",e.Archivate="archive",e.Edit="edit",c;var e})();const L=[{header:"\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",columnDef:"inventoryNumber",style:{"width.px":150}},{header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",columnDef:"name",style:null},{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",columnDef:"title",style:null},{header:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",columnDef:"category",style:{"width.px":150}},{header:"\u0421\u0442\u0430\u0442\u0443\u0441",columnDef:"status",tooltip:"\u0422\u0443\u043b\u0442\u0438\u043f",style:{"width.px":150}},{header:"",columnDef:c.Block,action:c.Block,style:{"width.px":32}},{header:"",columnDef:c.Edit,action:c.Edit,style:{"width.px":32}},{header:"",columnDef:c.Archivate,action:c.Archivate,style:{"width.px":32}}];var W=a(5186);let m=class{constructor(o,n,i){this.dialog=o,this.api=n,this.notificationService=i,this.equipmentColumns=L,this.equipmentDataSubj$=new E.X([]),this.equipmentTotalSubj$=new E.X(0),this.equipmentPageSubj$=new E.X(0),this.fetchEquipments().subscribe()}get equipmentData$(){return this.equipmentDataSubj$.asObservable()}get equipmentTotal$(){return this.equipmentTotalSubj$.asObservable()}get equipmentPage$(){return this.equipmentPageSubj$.asObservable()}editEquipment(o){switch(o.action){case c.Block:case c.Edit:case c.Archivate:console.log(o.action)}}setPage(o){this.fetchEquipments(o).pipe((0,h.b)(()=>this.equipmentPageSubj$.next(o))).subscribe()}fetchEquipments(o=0){return this.api.getAllEquipment(o).pipe((0,h.b)(n=>{this.equipmentTotalSubj$.getValue()||this.equipmentTotalSubj$.next(n.total)}),(0,h.b)(n=>this.equipmentDataSubj$.next(n.items)))}blockEquipment(o){let n;this.openBlockEquipmentModal(o).pipe((0,M.h)(Boolean),(0,x.w)(i=>(n=i,this.api.getEquipmentAvailable(i))),(0,x.w)(i=>i?this.openBlockConfirmation(i):(0,B.of)(!0)),(0,M.h)(Boolean),(0,x.w)(()=>this.api.blockEquipment(o.id,n)),(0,h.b)(()=>this.notificationService.openSuccess(`${o.title} \u0431\u044b\u043b\u043e \u0437\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e!`)),(0,C.t)(this),(0,F.K)(i=>{throw this.notificationService.openError(i),new Error(i)})).subscribe()}archivateEquipment(o){let n;this.openArchiveEquipmentModal(o).pipe((0,M.h)(Boolean),(0,x.w)(i=>(n=i,this.api.getEquipmentAvailable(i))),(0,x.w)(i=>i?this.openArchiveConfirmation(i):(0,B.of)(!0)),(0,M.h)(Boolean),(0,x.w)(()=>this.api.blockEquipment(o.id,n)),(0,h.b)(()=>this.notificationService.openSuccess(`${o.title} \u0431\u044b\u043b\u043e \u0437\u0430 \u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e!`)),(0,C.t)(this),(0,F.K)(i=>{throw this.notificationService.openError(i),new Error(i)})).subscribe()}openArchiveConfirmation(o){return this.dialog.open(w,{maxWidth:472,minWidth:472,autoFocus:!1,data:{name:o,title:s.ArchiveTitle,reason:s.ArchiveReason,applyButtonText:s.ArchiveApplyButtonText}}).afterClosed().pipe((0,h.b)())}openBlockConfirmation(o){return this.dialog.open(w,{maxWidth:472,minWidth:472,autoFocus:!1,data:{name:o,title:s.BlockTitle,reason:s.BlockReason,applyButtonText:s.BlockApplyButtonText}}).afterClosed()}openArchiveEquipmentModal(o){return this.dialog.open($,{maxWidth:472,minWidth:472,autoFocus:!1,data:o}).afterClosed()}openBlockEquipmentModal(o){return this.dialog.open(f,{maxWidth:472,minWidth:472,autoFocus:!1,data:o}).afterClosed()}};m.\u0275fac=function(o){return new(o||m)(t.LFG(d.uw),t.LFG(q),t.LFG(W.T))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac}),m=(0,Z.gn)([C.c],m);var J=a(6087),r=a(8279),G=a(7238),X=a(5245);function H(e,o){if(1&e&&(t.TgZ(0,"th",11),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.Oqu(n.header)}}function V(e,o){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.xp6(1),t.Oqu(n[i.columnDef])}}function K(e,o){if(1&e&&(t.TgZ(0,"span",15),t._uU(1),t.qZA()),2&e){const n=t.oxw(2).$implicit,i=t.oxw().$implicit;t.Q6J("matTooltip",i.tooltip),t.xp6(1),t.Oqu(n[i.columnDef])}}function tt(e,o){if(1&e&&(t.ynx(0),t.YNc(1,V,2,1,"span",13),t.YNc(2,K,2,2,"span",14),t.BQk()),2&e){const n=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",!n.tooltip),t.xp6(1),t.Q6J("ngIf",n.tooltip)}}function nt(e,o){if(1&e){const n=t.EpF();t.ynx(0),t.TgZ(1,"button",16),t.NdJ("click",function(){t.CHM(n);const u=t.oxw().$implicit,l=t.oxw().$implicit;return t.oxw(2).onEditCell({row:u,action:l.action})}),t.TgZ(2,"mat-icon",17),t._uU(3),t.qZA()(),t.BQk()}if(2&e){const n=t.oxw(2).$implicit;t.xp6(3),t.Oqu(n.action)}}function et(e,o){if(1&e&&(t.TgZ(0,"td",12),t.YNc(1,tt,3,2,"ng-container",13),t.YNc(2,nt,4,1,"ng-container",13),t.qZA()),2&e){const n=t.oxw().$implicit;t.Q6J("ngStyle",n.style),t.xp6(1),t.Q6J("ngIf",!n.action),t.xp6(1),t.Q6J("ngIf",n.action)}}function ot(e,o){1&e&&(t.ynx(0,8),t.YNc(1,H,2,1,"th",9),t.YNc(2,et,3,3,"td",10),t.BQk()),2&e&&t.Q6J("matColumnDef",o.$implicit.columnDef)}function it(e,o){1&e&&t._UZ(0,"tr",18)}function at(e,o){1&e&&t._UZ(0,"tr",19)}function ut(e,o){if(1&e){const n=t.EpF();t.TgZ(0,"div",1)(1,"table",2),t.YNc(2,ot,3,1,"ng-container",3),t.YNc(3,it,1,0,"tr",4),t.YNc(4,at,1,0,"tr",5),t.qZA(),t.TgZ(5,"mat-paginator",6,7),t.NdJ("page",function(u){return t.CHM(n),t.oxw().onSetPage(u)}),t.qZA()()}if(2&e){const n=t.oxw();t.xp6(1),t.Q6J("dataSource",n.dataSource),t.xp6(1),t.Q6J("ngForOf",n.columns),t.xp6(1),t.Q6J("matHeaderRowDef",n.displayColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayColumns),t.xp6(1),t.Q6J("length",n.total)("pageIndex",n.page)("pageSize",n.limit)}}let lt=(()=>{class e{constructor(){this.data=[],this.total=0,this.page=0,this.limit=10,this.setPage=new t.vpe,this.action=new t.vpe,this.dataSource=new r.by}ngOnChanges(n){n.data&&(this.dataSource=new r.by(this.data))}ngAfterViewInit(){this.dataSource.paginator=this.paginator}onSetPage(n){this.setPage.emit(n.pageIndex)}get displayColumns(){return this.columns.map(n=>n.columnDef)}onEditCell(n){this.action.emit(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["lc-table"]],viewQuery:function(n,i){if(1&n&&t.Gf(J.NW,5),2&n){let u;t.iGM(u=t.CRH())&&(i.paginator=u.first)}},inputs:{columns:"columns",data:"data",total:"total",page:"page",limit:"limit"},outputs:{setPage:"setPage",action:"action"},features:[t.TTD],decls:1,vars:1,consts:[["class","mat-elevation-z8",4,"ngIf"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["hidePageSize","",1,"paginator",3,"length","pageIndex","pageSize","page"],["paginator",""],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngStyle",4,"matCellDef"],["mat-header-cell",""],["mat-cell","",3,"ngStyle"],[4,"ngIf"],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-icon-button","",3,"click"],["fontSet","material-icons-outlined"],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&t.YNc(0,ut,7,7,"div",0),2&n&&t.Q6J("ngIf",i.data.length)},directives:[g.O5,r.BZ,g.sg,r.w1,r.fO,r.ge,r.Dz,r.ev,g.PC,G.gM,b.lW,X.Hw,r.as,r.XQ,r.nj,r.Gk,J.NW],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{padding-left:16px}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{padding-right:16px}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}"],changeDetection:0}),e})();const ct=function(){return[]};let S=(()=>{class e{constructor(n,i){this.route=n,this.controller=i,this.user=null,this.columns=this.controller.equipmentColumns,this.data$=this.controller.equipmentData$,this.total$=this.controller.equipmentTotal$,this.page$=this.controller.equipmentPage$}ngOnInit(){this.user=this.route.snapshot.data.user}editEquipment(n){this.controller.editEquipment(n)}setPage(n){this.controller.setPage(n)}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(v.gz),t.Y36(m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["lc-equipments"]],features:[t._Bn([m])],decls:4,vars:11,consts:[[3,"columns","data","total","page","action","setPage"]],template:function(n,i){1&n&&(t.TgZ(0,"lc-table",0),t.NdJ("action",function(l){return i.editEquipment(l)})("setPage",function(l){return i.setPage(l)}),t.ALo(1,"async"),t.ALo(2,"async"),t.ALo(3,"async"),t.qZA()),2&n&&t.Q6J("columns",i.columns)("data",t.lcZ(1,4,i.data$)||t.DdM(10,ct))("total",t.lcZ(2,6,i.total$)||0)("page",t.lcZ(3,8,i.page$)||0)},directives:[lt],pipes:[g.Ov],styles:["div[_ngcontent-%COMP%]{margin:16px}.wrap[_ngcontent-%COMP%]{width:300px}"],changeDetection:0}),e})();var O=a(138),rt=a(1794),st=a(4025),pt=a(2642);let mt=(()=>{class e{constructor(n,i){this.store=n,this.router=i}canActivate(){var n;const i=this.store.selectSnapshot(rt.jq.user);return(null===(n=null==i?void 0:i.role)||void 0===n?void 0:n.name)===st.i.admin||this.router.parseUrl("/forbidden")}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(pt.yh),t.LFG(v.F0))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const dt=[{path:"",redirectTo:O.$.Equipments},{path:O.$.Equipments,pathMatch:"full",component:S},{path:O.$.Users,pathMatch:"full",component:S}];let gt=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[mt],imports:[[v.Bz.forChild(dt)],v.Bz]}),e})();var ft=a(4466);let ht=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[q],imports:[[g.ez,gt,ft.m,p.UX]]}),e})()}}]);