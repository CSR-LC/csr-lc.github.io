"use strict";(self.webpackChunklc_fe=self.webpackChunklc_fe||[]).push([[955],{5955:(Xt,$,a)=>{a.r($),a.d($,{AdminModule:()=>Wt});var l=a(6814),L=a(9316),C=a(7582),t=a(5879),ut=a(9862);let D=(()=>{class n{static#t=this.USERS_BASE_URL="v1/users";constructor(e){this.http=e}getAllEquipment(){return this.http.get("equipment")}getUnavailablePeriodsById(e){return this.http.get(`/equipment/unavailability_periods/${e}`)}archiveEquipment(e){return this.http.post(`/equipment/achive/${e}/`,{equipmentId:e})}blockEquipment(e,u){return this.http.post(`/equipment/${e}/blocking`,{end_date:u.endDate,start_date:u.startDate})}getEquipmentStatuses(){return this.http.get("/equipment/status_names")}getEquipmentCategories(){return this.http.get("/equipment/categories")}getEquipmentUnavailabilityPeriods(e){return this.http.get(`/equipment/unavailability_periods/${e}`)}getAllUsers(){return this.http.get(n.USERS_BASE_URL)}updateUserReadonlyAccess(e,u){return this.http.put(`${n.USERS_BASE_URL}/${e}/readonly-access`,{is_readonly:u})}static#e=this.\u0275fac=function(u){return new(u||n)(t.LFG(ut.eN))};static#n=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})();var r=a(7700),f=function(n){return n.ArchiveTitle="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",n.BlockTitle="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f",n.ArchiveReason="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",n.ArchiveApplyButtonText="\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.BlockReason="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430",n.BlockApplyButtonText="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.BlockCancelButtonText="\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n}(f||{}),b=a(554),y=a(2296),w=function(n){return n.Name="\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",n.NameSubstring="\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",n.InventoryNumber="\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",n}(w||{});let ot=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-fake-input"]],inputs:{label:"label",text:"text"},decls:5,vars:2,consts:[[1,"label"],[1,"text"],[1,"separator"]],template:function(u,i){1&u&&(t.TgZ(0,"span",0),t._uU(1),t.qZA(),t.TgZ(2,"span",1),t._uU(3),t.qZA(),t._UZ(4,"div",2)),2&u&&(t.xp6(1),t.Oqu(i.label),t.xp6(2),t.Oqu(i.text))},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}[_nghost-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-left:16px}[_nghost-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;font-weight:400;line-height:16px;color:#5f5f5f}[_nghost-%COMP%]   .text[_ngcontent-%COMP%]{font-size:16px;color:#000}[_nghost-%COMP%]   .separator[_ngcontent-%COMP%]{border-bottom:1px solid #656565;margin-top:10px}"],changeDetection:0})}return n})();function it(n,o){if(1&n&&t._UZ(0,"lc-fake-input",1),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.Name)("text",e.equipment.name)}}function at(n,o){if(1&n&&t._UZ(0,"lc-fake-input",1),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.NameSubstring)("text",e.equipment.title)}}function st(n,o){if(1&n&&t._UZ(0,"lc-fake-input",1),2&n){const e=t.oxw();t.Q6J("label",e.LabelEnum.InventoryNumber)("text",e.equipment.inventoryNumber)}}let j=(()=>{class n{constructor(){this.LabelEnum=w}static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-equipment-info"]],inputs:{equipment:"equipment"},decls:3,vars:3,consts:[[3,"label","text",4,"ngIf"],[3,"label","text"]],template:function(u,i){1&u&&(t.YNc(0,it,1,2,"lc-fake-input",0),t.YNc(1,at,1,2,"lc-fake-input",0),t.YNc(2,st,1,2,"lc-fake-input",0)),2&u&&(t.Q6J("ngIf",i.equipment&&i.equipment.name),t.xp6(1),t.Q6J("ngIf",i.equipment&&i.equipment.title),t.xp6(1),t.Q6J("ngIf",i.equipment&&i.equipment.inventoryNumber))},dependencies:[l.O5,ot],styles:["lc-fake-input[_ngcontent-%COMP%]{margin-bottom:24px}lc-fake-input[_ngcontent-%COMP%]:last-child{margin-bottom:0}"],changeDetection:0})}return n})(),ct=(()=>{class n{constructor(e){this.equipment=e,this.ModalEnum=f,this.inventoryNumber=String(this.equipment.inventoryNumber)}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(r.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-archive-equipment-modal"]],decls:12,vars:4,consts:[["headerTitle","\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f"],["body",""],[1,"content"],[3,"equipment"],["footer",""],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(u,i){1&u&&(t.TgZ(0,"lc-modal-layout",0),t.ynx(1,1),t.TgZ(2,"div",2)(3,"p"),t._uU(4," \u0421\u0442\u0430\u0442\u0443\u0441 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f \u043d\u0430 \u201c\u0412 \u0430\u0440\u0445\u0438\u0432\u0435\u201d \u0438 \u0441\u043a\u0440\u043e\u0435\u0442\u0441\u044f \u0438\u0437 \u043e\u0431\u0449\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435. "),t.qZA(),t._UZ(5,"lc-equipment-info",3),t.qZA(),t.BQk(),t.ynx(6,4),t.TgZ(7,"div",5)(8,"button",6),t._uU(9," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),t.qZA(),t.TgZ(10,"button",7),t._uU(11),t.qZA()(),t.BQk(),t.qZA()),2&u&&(t.xp6(5),t.Q6J("equipment",i.equipment),t.xp6(3),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",i.ModalEnum.ArchiveApplyButtonText," "))},dependencies:[b.m,y.lW,r.ZT,j],styles:[".content[_ngcontent-%COMP%]{font-style:normal;font-weight:400;font-size:14px;line-height:24px;letter-spacing:.1px;color:#000}.content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:24px;font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;border-radius:10px;font-style:normal;font-weight:400;line-height:20px;padding:16px;text-transform:uppercase}"],changeDetection:0})}return n})();var G=a(5619),E=a(7398),V=a(9397),p=a(4664),x=a(2181),z=a(2096),d=a(6223),lt=a(4347),h=a(388),rt=a(9118),pt=a(4315),mt=a(5659),B=a(8034),P=a(4170);let U=class Y{constructor(o,e,u,i,s){this.dialogData=o,this.dialogRef=e,this.fb=u,this.validationService=i,this.dateRangeService=s,this.formName="block_equipment_modal",this.unavailablePeriods=[],this.ModalEnum=f,this.LabelEnum=w,this.minDate=null,this.form=this.fb.group({startDate:[null,d.kI.required],endDate:[null,d.kI.required]})}ngOnInit(){this.equipment=this.dialogData.equipment,this.unavailablePeriods=this.dialogData.unavailablePeriods,this.minDate=new Date}blockEquipment(){this.validationService.emitSubmit(this.formName),this.form.valid?this.dialogRef.close(this.form.getRawValue()):this.form.markAllAsTouched()}openDatePicker(){this.dateRangeService.openDateRangeModal(this.dateRangeConfig).pipe((0,h.t)(this)).subscribe(o=>{o&&this.setFormValue({startDate:new Date(o.start_date),endDate:new Date(o.end_date)})})}setFormValue(o){this.form.setValue(o)}get dateRangeConfig(){return{headerText:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043f\u0435\u0440\u0438\u043e\u0434 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438",buttonText:"\u0432\u044b\u0431\u0440\u0430\u0442\u044c",maxRentalPeriod:14,unavailableDates:this.unavailablePeriods,purpose:lt.z.block}}static#t=this.\u0275fac=function(e){return new(e||Y)(t.Y36(r.WI),t.Y36(r.so),t.Y36(d.QS),t.Y36(rt.R),t.Y36(pt.s))};static#e=this.\u0275cmp=t.Xpm({type:Y,selectors:[["lc-block-equipment-modal"]],decls:18,vars:9,consts:[[3,"headerTitle"],["body",""],[3,"equipment"],[3,"formGroup"],[3,"min"],["matStartDate","","formControlName","startDate","placeholder","\u041d\u0430\u0447\u0430\u043b\u043e",3,"lcValidationErrors"],["matEndDate","","formControlName","endDate","placeholder","\u041a\u043e\u043d\u0435\u0446",3,"lcValidationErrors"],["matIconSuffix","",3,"click"],["footer",""],[1,"buttons-wrapper"],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,u){1&e&&(t.TgZ(0,"lc-modal-layout",0),t.ynx(1,1),t._UZ(2,"lc-equipment-info",2),t.TgZ(3,"form",3)(4,"mat-form-field")(5,"mat-label"),t._uU(6,"\u041f\u0435\u0440\u0438\u043e\u0434 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438"),t.qZA(),t.TgZ(7,"mat-date-range-input",4),t._UZ(8,"input",5)(9,"input",6),t.qZA(),t.TgZ(10,"mat-datepicker-toggle",7),t.NdJ("click",function(){return u.openDatePicker()}),t.qZA()()(),t.BQk(),t.ynx(11,8),t.TgZ(12,"div",9)(13,"div",10)(14,"button",11),t._uU(15),t.qZA(),t.TgZ(16,"button",12),t.NdJ("click",function(){return u.blockEquipment()}),t._uU(17),t.qZA()()(),t.BQk(),t.qZA()),2&e&&(t.Q6J("headerTitle",u.ModalEnum.BlockTitle),t.xp6(2),t.Q6J("equipment",u.equipment),t.xp6(1),t.Q6J("formGroup",u.form),t.xp6(4),t.Q6J("min",u.minDate),t.xp6(1),t.Q6J("lcValidationErrors",u.formName),t.xp6(1),t.Q6J("lcValidationErrors",u.formName),t.xp6(5),t.Q6J("mat-dialog-close",!1),t.xp6(1),t.hij(" ",u.ModalEnum.BlockCancelButtonText," "),t.xp6(2),t.hij(" ",u.ModalEnum.BlockApplyButtonText," "))},dependencies:[b.m,mt.D,y.lW,B.nW,B.wx,B.zY,B.By,r.ZT,P.KE,P.hX,P.R9,d._Y,d.Fj,d.JJ,d.JL,d.sg,d.u,j],styles:["[_nghost-%COMP%]{display:block}form[_ngcontent-%COMP%]{margin-top:24px}form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}form[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{max-width:200px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-style:normal;font-weight:400;margin-right:24px;line-height:20px;text-transform:uppercase;height:56px;border-radius:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})};U=(0,C.gn)([h.c],U);var T=a(3612),W=a(617);function dt(n,o){1&n&&(t.ynx(0),t._uU(1," \u0412 \u044d\u0442\u0438 \u0434\u0430\u0442\u044b \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e. \u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0438\u0442 \u0434\u0430\u043d\u043d\u043e\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. "),t.BQk())}function ht(n,o){1&n&&(t.ynx(0),t._uU(1," \u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u0440\u043e\u0441\u0438\u0442 \u0432\u0441\u0435 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f. "),t.BQk())}let ft=(()=>{class n{constructor(e){this.action=e,this.actions=T.v,this.header="",this.actionText=""}ngOnInit(){switch(this.action){case this.actions.Block:this.header=f.BlockTitle,this.actionText=f.BlockApplyButtonText;break;case this.actions.Archivate:this.header=f.ArchiveTitle,this.actionText=f.ArchiveApplyButtonText}}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(r.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-order-notification-modal"]],decls:17,vars:6,consts:[[3,"headerTitle"],["body",""],[1,"content"],[4,"ngIf"],["fontSet","material-icons-outlined"],["footer",""],[1,"buttons"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(u,i){1&u&&(t.TgZ(0,"lc-modal-layout",0),t.ynx(1,1),t.TgZ(2,"div",2)(3,"p"),t.YNc(4,dt,2,0,"ng-container",3),t.YNc(5,ht,2,0,"ng-container",3),t.qZA(),t.TgZ(6,"p"),t._uU(7," \u0414\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0441\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u044f\u0432\u043e\u043a \u043d\u0430 \u0434\u0430\u043d\u043d\u043e\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435, \u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435\u0441\u044c \u043a\u043d\u043e\u043f\u043a\u043e\u0439 "),t.TgZ(8,"mat-icon",4),t._uU(9,"list_alt"),t.qZA(),t._uU(10," \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u044f. "),t.qZA()(),t.BQk(),t.ynx(11,5),t.TgZ(12,"div",6)(13,"button",7),t._uU(14," \u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c "),t.qZA(),t.TgZ(15,"button",8),t._uU(16),t.qZA()(),t.BQk(),t.qZA()),2&u&&(t.Q6J("headerTitle",i.header),t.xp6(4),t.Q6J("ngIf",i.action===i.actions.Block),t.xp6(1),t.Q6J("ngIf",i.action===i.actions.Archivate),t.xp6(8),t.Q6J("mat-dialog-close",!1),t.xp6(2),t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",i.actionText," "))},dependencies:[l.O5,b.m,y.lW,r.ZT,W.Hw],styles:["p[_ngcontent-%COMP%]{margin-bottom:0;color:#000000de;font-size:14px;font-weight:400;line-height:22px;letter-spacing:.1px;word-wrap:break-word}mat-icon[_ngcontent-%COMP%]{position:relative;top:8px}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{margin-right:24px;font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:56px;border-radius:10px;font-style:normal;font-weight:400;line-height:20px;padding:16px;text-transform:uppercase}"],changeDetection:0})}return n})();const gt={available:null,booked:null,"in use":null,"not available":null,archived:null},_={maxWidth:472,minWidth:472,autoFocus:!1};var X=a(7626);let Ct=(()=>{class n{createDictionary(e,u){e.forEach(i=>u[i.id]=i.translation||i.name)}getDictionaryValue(e,u){return e[u]||void 0}static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M=class q{get equipmentData$(){return this.equipmentDataSubj$.asObservable()}constructor(o,e,u,i){this.dialog=o,this.api=e,this.notificationService=u,this.dictionaryService=i,this.equipmentDataSubj$=new G.X([]),this.categoryDictionary={},this.statusDictionary={},this.statusIdsDictionary={...gt}}editEquipment(o){switch(o.action){case T.v.Block:this.blockEquipment(o);break;case T.v.Edit:console.log(o.action);break;case T.v.Archivate:this.archivateEquipment(o)}}fetchEquipments(){return this.api.getAllEquipment().pipe((0,E.U)(o=>this.createRows(o.items)),(0,V.b)(o=>this.equipmentDataSubj$.next(o)))}createRows(o){return o.map(e=>{const u=this.dictionaryService.getDictionaryValue(this.categoryDictionary,e.category),i=this.dictionaryService.getDictionaryValue(this.statusDictionary,e.status);return u&&(e.categoryName=u),i&&(e.statusName=i),e.status===this.statusIdsDictionary.archived&&(e.disableActions=!0),e})}blockEquipment(o){const e=o.row;let u,i;this.api.getUnavailablePeriodsById(e.id).pipe((0,E.U)(s=>(u=s.items?s.items:[],s.items)),(0,p.w)(s=>this.openBlockEquipmentModal(e,s)),(0,x.h)(Boolean),(0,E.U)(s=>(i=s,this.isPeriodsIntersect(s,u))),(0,p.w)(s=>s?this.openOrderNotificationModal(o.action):(0,z.of)(!0)),(0,x.h)(Boolean),(0,p.w)(()=>this.api.blockEquipment(e.id,i)),(0,h.t)(this)).subscribe(s=>{this.notificationService.openSuccess(`${e.title} \u0431\u044b\u043b\u043e \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e!`)})}isPeriodsIntersect(o,e){for(const u of e)if(this.isDateInPeriod(o.startDate,u)||this.isDateInPeriod(o.endDate,u))return!0;return!1}isDateInPeriod(o,e){const u=new Date(e.start_date),i=new Date(e.end_date);return o.getTime(),o>=u&&o<=i}archivateEquipment(o){const e=o.row;this.openArchiveEquipmentModal(e).pipe((0,x.h)(Boolean),(0,p.w)(()=>this.api.getEquipmentUnavailabilityPeriods(e.id)),(0,p.w)(u=>u.items&&u.items.length?this.openOrderNotificationModal(o.action):(0,z.of)(!0)),(0,x.h)(Boolean),(0,p.w)(()=>this.api.archiveEquipment(e.id)),(0,p.w)(()=>this.fetchEquipments()),(0,h.t)(this)).subscribe(()=>{this.notificationService.openSuccess(`${e.title} \u0431\u044b\u043b\u043e \u0437\u0430\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e!`)})}openArchiveConfirmation(o){}openBlockConfirmation(o){}openOrderNotificationModal(o){return this.dialog.open(ft,{..._,data:o}).afterClosed()}openArchiveEquipmentModal(o){return this.dialog.open(ct,{..._,data:o}).afterClosed()}openBlockEquipmentModal(o,e){return this.dialog.open(U,{..._,data:{equipment:o,unavailablePeriods:e||[]}}).afterClosed()}createCategoryDictionary(o){this.dictionaryService.createDictionary(o,this.categoryDictionary)}createStatusDictionary(o){this.dictionaryService.createDictionary(o,this.statusDictionary)}createEquipmentStatusIds(o){o.forEach(e=>{this.statusIdsDictionary[e.name]=e.id})}static#t=this.\u0275fac=function(e){return new(e||q)(t.LFG(r.uw),t.LFG(D),t.LFG(X.T),t.LFG(Ct))};static#e=this.\u0275prov=t.Yz7({token:q,factory:q.\u0275fac})};M=(0,C.gn)([h.c],M);var c=a(6784),Z=function(n){return n.Blocked="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",n.Unblocked="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",n}(Z||{}),F=function(n){return n.Active="\u0410\u043a\u0442\u0438\u0432\u0435\u043d",n.Blocked="\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",n}(F||{});function Et(n,o){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.body)}}function yt(n,o){1&n&&t.GkF(0)}function xt(n,o){if(1&n&&(t.TgZ(0,"button",8),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("mat-dialog-close",!1),t.xp6(1),t.hij(" ",e.cancelButtonText," ")}}function vt(n,o){if(1&n&&(t.TgZ(0,"button",9),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.Q6J("mat-dialog-close",!0),t.xp6(1),t.hij(" ",e.applyButtonText," ")}}a(3103),a(3104);const Dt=function(n){return{data:n}};let bt=(()=>{class n{constructor(e){this.confirmationModalData=e,this.title="",this.contentComponent=null}ngOnInit(){this.title=this.confirmationModalData.title,this.body=this.confirmationModalData.body,this.contentComponent=this.confirmationModalData.contentComponent||null,this.contentComponentData=this.confirmationModalData.contentComponentData,this.applyButtonText=this.confirmationModalData.applyButtonText,this.cancelButtonText=this.confirmationModalData.cancelButtonText}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(r.WI))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-confirmation-modal"]],decls:8,vars:8,consts:[[3,"headerTitle"],["body",""],[4,"ngIf"],[4,"ngComponentOutlet","ngComponentOutletInputs"],["footer",""],[1,"buttons"],["mat-button","","class","cancel",3,"mat-dialog-close",4,"ngIf"],["mat-raised-button","","color","primary",3,"mat-dialog-close",4,"ngIf"],["mat-button","",1,"cancel",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"mat-dialog-close"]],template:function(u,i){1&u&&(t.TgZ(0,"lc-modal-layout",0),t.ynx(1,1),t.YNc(2,Et,2,1,"p",2),t.YNc(3,yt,1,0,"ng-container",3),t.BQk(),t.ynx(4,4),t.TgZ(5,"div",5),t.YNc(6,xt,2,2,"button",6),t.YNc(7,vt,2,2,"button",7),t.qZA(),t.BQk(),t.qZA()),2&u&&(t.Q6J("headerTitle",i.title),t.xp6(2),t.Q6J("ngIf",i.body),t.xp6(1),t.Q6J("ngComponentOutlet",i.contentComponent)("ngComponentOutletInputs",t.VKq(6,Dt,i.contentComponentData)),t.xp6(3),t.Q6J("ngIf",i.cancelButtonText),t.xp6(1),t.Q6J("ngIf",i.applyButtonText))},dependencies:[l.$G,l.O5,y.lW,r.ZT,b.m],styles:[".buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.buttons[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{font-style:normal;font-weight:500;color:#00677f}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-style:normal;font-weight:400;margin-right:24px;line-height:20px;text-transform:uppercase;height:56px;border-radius:10px}.buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-right:0}"],changeDetection:0})}return n})();a(6341),a(4274),a(2389),a(155);var g=function(n){return n.BlockTitle="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",n.UnblockTitle="\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",n.BlockButtonText="\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.UnblockButtonText="\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",n.CancelButtonText="\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",n.BlockConfirmationText="\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",n.UnblockConfirmationText="\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",n.BlockDescriptionText="\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0438 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0438.",n.UnblockDescriptionText="\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0431\u0443\u0434\u0435\u0442 \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0432\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c \u0438 \u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0438.",n}(g||{});function Bt(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"p"),t._uU(2),t.TgZ(3,"strong"),t._uU(4),t.qZA(),t._uU(5,"?"),t.qZA(),t.TgZ(6,"p"),t._uU(7),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.hij("",e.isUserBlocked?e.ModalEnum.UnblockConfirmationText:e.ModalEnum.BlockConfirmationText," "),t.xp6(2),t.AsE("",e.user.name,"",e.user.surname?" "+e.user.surname:"",""),t.xp6(3),t.Oqu(e.isUserBlocked?e.ModalEnum.UnblockDescriptionText:e.ModalEnum.BlockDescriptionText)}}let Tt=(()=>{class n{constructor(){this.ModalEnum=g,this.isUserBlocked=!1}ngOnInit(){this.data&&(this.user=this.data,this.isUserBlocked=this.user.is_readonly)}static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-block-user-modal-content"]],inputs:{data:"data"},decls:1,vars:1,consts:[[4,"ngIf"]],template:function(u,i){1&u&&t.YNc(0,Bt,8,4,"ng-container",0),2&u&&t.Q6J("ngIf",i.user)},dependencies:[l.O5],changeDetection:0})}return n})();var _t=a(543);let A=class O{constructor(o,e,u,i){this.api=o,this.notificationService=e,this.dialog=u,this.mainPageHeaderService=i,this.usersSubject$=new G.X([])}get users$(){return this.usersSubject$.asObservable()}setPageTitle(o){this.mainPageHeaderService.setPageTitle(o)}fetchUsers(){return this.api.getAllUsers().pipe((0,V.b)(o=>this.usersSubject$.next(this.createRows(o.items))))}editUser(o){switch(o.action){case c.Vw.Profile:break;case c.Vw.Block:this.updateUserBlockingStatus(o)}}updateUserBlockingStatus(o){const e=o.row;this.openBlockUserModal(e).pipe((0,x.h)(Boolean),(0,p.w)(()=>this.api.updateUserReadonlyAccess(e.id,!e.is_readonly)),(0,p.w)(()=>this.fetchUsers()),(0,h.t)(this)).subscribe(()=>{this.notificationService.openSuccess(e.is_readonly?Z.Unblocked:Z.Blocked)})}openBlockUserModal(o){return this.dialog.open(bt,{..._,data:{title:o.is_readonly?g.UnblockTitle:g.BlockTitle,contentComponentData:o,contentComponent:Tt,applyButtonText:o.is_readonly?g.UnblockButtonText:g.BlockButtonText,cancelButtonText:g.CancelButtonText}}).afterClosed()}createRows(o){return o.map(e=>(e.status=e.is_readonly?F.Blocked:F.Active,e))}static#t=this.\u0275fac=function(e){return new(e||O)(t.LFG(D),t.LFG(X.T),t.LFG(r.uw),t.LFG(_t.I))};static#e=this.\u0275prov=t.Yz7({token:O,factory:O.\u0275fac})};A=(0,C.gn)([h.c],A);var S=a(5403),k=a(6150);const Mt=[{header:"\u0418\u043d\u0432\u0435\u043d\u0442\u0430\u0440\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",columnDef:"inventoryNumber",style:{"width.px":150}},{header:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",columnDef:"name",style:null},{header:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",columnDef:"title",style:null},{header:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",columnDef:"categoryName",style:{"width.px":150}},{header:"\u0421\u0442\u0430\u0442\u0443\u0441",columnDef:"statusName",style:{"width.px":150}},{header:"",columnDef:c.vk.Block,action:c.vk.Block,tooltip:"\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430",style:{"width.px":32,"padding.px":0}},{header:"",columnDef:c.vk.Edit,action:c.vk.Edit,tooltip:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",style:{"width.px":32,"padding.px":0}},{header:"",columnDef:c.vk.Archivate,action:c.vk.Archivate,tooltip:"\u0410\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435",style:{"width.px":32,"padding.px":0}},{header:"",columnDef:c.vk.Orders,action:c.vk.Orders,essentialAction:!0,tooltip:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0437\u0430\u044f\u0432\u043a\u0430\u043c",style:{"width.px":32,"padding.px":0}}];var I=a(3566),H=a(1476),m=a(9538),At=a(2596);let kt=(()=>{class n{transform(e,u){return!e.essentialAction&&!!u.disableActions}static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275pipe=t.Yjl({name:"tableDisableAction",type:n,pure:!0})}return n})();function qt(n,o){if(1&n&&(t.TgZ(0,"th",10),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.header)}}function Ot(n,o){1&n&&(t.ynx(0),t.YNc(1,qt,2,1,"th",9),t.BQk())}function wt(n,o){if(1&n&&(t.TgZ(0,"th",12),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.header)}}function Pt(n,o){1&n&&(t.ynx(0),t.YNc(1,wt,2,1,"th",11),t.BQk())}function Ut(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw().$implicit,u=t.oxw().$implicit;t.xp6(1),t.hij(" ",e[u.columnDef]," ")}}function Zt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",15),t.NdJ("click",function(){t.CHM(e);const i=t.oxw().$implicit,s=t.oxw().$implicit,J=t.oxw();return t.KtG(J.editRow({row:i,action:s.action}))}),t.ALo(2,"tableDisableAction"),t.TgZ(3,"mat-icon",16),t._uU(4),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,u=t.oxw().$implicit;t.xp6(1),t.Q6J("disabled",t.xi3(2,2,u,e)),t.xp6(3),t.Oqu(u.action)}}function Ft(n,o){if(1&n&&(t.TgZ(0,"td",13)(1,"span",14),t.YNc(2,Ut,2,1,"ng-container",7),t.YNc(3,Zt,5,5,"ng-container",7),t.qZA()()),2&n){const e=t.oxw().$implicit;t.Q6J("ngStyle",e.style),t.xp6(1),t.Q6J("matTooltip",e.tooltip?e.tooltip:""),t.xp6(1),t.Q6J("ngIf",!e.action),t.xp6(1),t.Q6J("ngIf",e.action)}}function St(n,o){if(1&n&&(t.ynx(0,6),t.YNc(1,Ot,2,0,"ng-container",7),t.YNc(2,Pt,2,0,"ng-container",7),t.YNc(3,Ft,4,4,"td",8),t.BQk()),2&n){const e=o.$implicit;t.Q6J("matColumnDef",e.columnDef),t.xp6(1),t.Q6J("ngIf",e.action),t.xp6(1),t.Q6J("ngIf",!e.action)}}function It(n,o){1&n&&t._UZ(0,"tr",17)}function Qt(n,o){1&n&&t._UZ(0,"tr",18)}let K=(()=>{class n{constructor(){this.columns=[],this.data=[],this.limit=10,this.action=new t.vpe,this.total=0}ngOnChanges(e){e.data&&(this.total=this.data.length,this.dataSource=this.getMatTableData(this.data))}get displayedColumns(){return this.columns.map(e=>e.columnDef)}editRow(e){this.action.emit(e)}getMatTableData(e){const u=new m.by(e);return this.sort&&this.dataSource&&(u.sort=this.sort),this.paginator&&(u.paginator=this.paginator),u}static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-table"]],viewQuery:function(u,i){if(1&u&&(t.Gf(H.NW,5),t.Gf(I.YE,5)),2&u){let s;t.iGM(s=t.CRH())&&(i.paginator=s.first),t.iGM(s=t.CRH())&&(i.sort=s.first)}},inputs:{columns:"columns",data:"data",limit:"limit"},outputs:{action:"action"},features:[t.TTD],decls:6,vars:6,consts:[["mat-table","","matSort","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["hidePageSize","",1,"paginator",3,"length","pageSize"],["paginator",""],[3,"matColumnDef"],[4,"ngIf"],["mat-cell","",3,"ngStyle",4,"matCellDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-cell","","mat-sort-header",""],["mat-cell","",3,"ngStyle"],[3,"matTooltip"],["mat-icon-button","",3,"disabled","click"],["fontSet","material-icons-outlined"],["mat-header-row",""],["mat-row",""]],template:function(u,i){1&u&&(t.TgZ(0,"table",0),t.YNc(1,St,4,3,"ng-container",1),t.YNc(2,It,1,0,"tr",2),t.YNc(3,Qt,1,0,"tr",3),t.qZA(),t._UZ(4,"mat-paginator",4,5)),2&u&&(t.Q6J("dataSource",i.dataSource),t.xp6(1),t.Q6J("ngForOf",i.columns),t.xp6(1),t.Q6J("matHeaderRowDef",i.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",i.displayedColumns),t.xp6(1),t.Q6J("length",i.total)("pageSize",i.limit))},dependencies:[l.sg,l.O5,l.PC,y.RK,W.Hw,H.NW,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,At.gM,I.YE,I.nU,kt],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   table[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%], [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{padding:0 8px}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:first-child, [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]:first-child{padding-left:16px}[_nghost-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]:last-child, [_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]:last-child{padding-right:16px}[_nghost-%COMP%]   .mat-cell[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}"],changeDetection:0})}return n})();const Nt=function(){return[]};let v=class R{constructor(o){this.controller=o,this.columns=Mt,this.data$=this.controller.equipmentData$}ngOnInit(){this.controller.fetchEquipments().subscribe(),this.equipmentCategories.pipe((0,h.t)(this)).subscribe(o=>this.controller.createCategoryDictionary(o)),this.equipmentStatuses.pipe((0,h.t)(this)).subscribe(o=>{this.controller.createStatusDictionary(o),this.controller.createEquipmentStatusIds(o)})}editEquipment(o){this.controller.editEquipment(o)}static#t=this.\u0275fac=function(e){return new(e||R)(t.Y36(M))};static#e=this.\u0275cmp=t.Xpm({type:R,selectors:[["lc-equipments"]],features:[t._Bn([M])],decls:2,vars:5,consts:[[3,"columns","data","action"]],template:function(e,u){1&e&&(t.TgZ(0,"lc-table",0),t.NdJ("action",function(s){return u.editEquipment(s)}),t.ALo(1,"async"),t.qZA()),2&e&&t.Q6J("columns",u.columns)("data",t.lcZ(1,2,u.data$)||t.DdM(4,Nt))},dependencies:[K,l.Ov],styles:["div[_ngcontent-%COMP%]{margin:16px}.wrap[_ngcontent-%COMP%]{width:300px}"],changeDetection:0})};(0,C.gn)([(0,S.Ph)(k.in.equipmentCategories)],v.prototype,"equipmentCategories",void 0),(0,C.gn)([(0,S.Ph)(k.in.equipmentStatuses)],v.prototype,"equipmentStatuses",void 0),v=(0,C.gn)([h.c],v);var Q=a(4614),Jt=a(1607);const Yt={available:"\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e",booked:"\u0437\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e","in use":"\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f","not available":"\u043d\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e",archived:"\u0430\u0440\u0445\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e"};let N=(()=>{class n{constructor(e,u){this.api=e,this.store=u}getEquipmentStatuses(){return this.api.getEquipmentStatuses().pipe((0,E.U)(e=>this.fillInStatusesTranslations(e)),(0,p.w)(e=>this.store.dispatch(new k.xs(e))),(0,E.U)(e=>e.application_data?.equipmentStatuses))}fillInStatusesTranslations(e){return e.map(u=>{const i=Yt[u.name];return i&&(u.translation=i),u})}getEquipmentCategories(){return this.api.getEquipmentCategories().pipe((0,p.w)(e=>this.store.dispatch(new k.FI(e.items))),(0,E.U)(e=>e.application_data?.equipmentCategories))}static#t=this.\u0275fac=function(u){return new(u||n)(t.LFG(D),t.LFG(S.yh))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac})}return n})(),tt=(()=>{class n{constructor(e){this.equipmentResolverService=e}resolve(){return this.equipmentResolverService.getEquipmentStatuses()}static#t=this.\u0275fac=function(u){return new(u||n)(t.LFG(N))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),et=(()=>{class n{constructor(e){this.equipmentResolverService=e}resolve(){return this.equipmentResolverService.getEquipmentCategories()}static#t=this.\u0275fac=function(u){return new(u||n)(t.LFG(N))};static#e=this.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Rt=[{header:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430",columnDef:"email",style:{"minWidth.px":200}},{header:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",columnDef:"phone_umber",style:{"minWidth.px":150}},{header:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",columnDef:"surname",style:{"minWidth.px":200}},{header:"\u0418\u043c\u044f",columnDef:"name",style:{"minWidth.px":200}},{header:"\u0421\u0442\u0430\u0442\u0443\u0441",columnDef:"status",style:{"width.px":150}},{header:"",columnDef:c.Vw.Profile,action:c.Vw.Profile,tooltip:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c",style:{"width.px":32,"padding.px":0}},{header:"",columnDef:c.Vw.Block,action:c.Vw.Block,tooltip:"\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430",style:{"width.px":32,"padding.px":0}},{header:"",columnDef:c.Vw.Delete,action:c.Vw.Delete,tooltip:"\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435",style:{"width.px":32,"padding.px":0}}];var nt=function(n){return n.Users="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",n.Equipment="\u041e\u0431\u043e\u0440\u0443\u0434\u043e\u0432\u0430\u043d\u0438\u0435",n}(nt||{});const $t=function(){return[]},jt=[{path:"",redirectTo:Q.$.Equipments,pathMatch:"full"},{path:Q.$.Equipments,resolve:{equipmentsStatuses:tt,equipmentCategories:et},pathMatch:"full",component:v},{path:Q.$.Users,pathMatch:"full",component:(()=>{class n{constructor(e){this.controller=e,this.columns=Rt,this.users$=this.controller.users$}ngOnInit(){this.controller.fetchUsers().subscribe(),this.controller.setPageTitle(nt.Users)}editUser(e){this.controller.editUser(e)}static#t=this.\u0275fac=function(u){return new(u||n)(t.Y36(A))};static#e=this.\u0275cmp=t.Xpm({type:n,selectors:[["lc-users"]],features:[t._Bn([A])],decls:2,vars:5,consts:[[3,"columns","data","action"]],template:function(u,i){1&u&&(t.TgZ(0,"lc-table",0),t.NdJ("action",function(J){return i.editUser(J)}),t.ALo(1,"async"),t.qZA()),2&u&&t.Q6J("columns",i.columns)("data",t.lcZ(1,2,i.users$)||t.DdM(4,$t))},dependencies:[K,l.Ov],changeDetection:0})}return n})()}];let Gt=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[Jt.u],imports:[L.Bz.forChild(jt),L.Bz]})}return n})();var Vt=a(325),zt=a(2615);let Wt=(()=>{class n{static#t=this.\u0275fac=function(u){return new(u||n)};static#e=this.\u0275mod=t.oAB({type:n});static#n=this.\u0275inj=t.cJS({providers:[D,N,tt,et],imports:[l.ez,Gt,Vt.m,d.UX,zt.x]})}return n})()}}]);