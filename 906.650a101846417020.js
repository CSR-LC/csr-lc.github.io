"use strict";(self.webpackChunklc_fe=self.webpackChunklc_fe||[]).push([[906],{6906:(O,d,i)=>{i.r(d),i.d(d,{UserProfileComponent:()=>u});var m=i(1635),t=i(7705),g=i(3122),_=i(3487),f=i(4685),a=i(9079),h=i(5777),r=i(177),C=i(2201),p=i(8834),x=i(9213),v=i(7967);function b(e,s){if(1&e&&t.nrm(0,"lc-fake-input",7),2&e){const n=s.$implicit;t.Y8G("label",n.label)("text",n.text)}}let y=(()=>{class e{constructor(){this.details=[],this.edited=new t.bkB}edit(){this.edited.emit()}static#t=this.\u0275fac=function(l){return new(l||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["lc-user-details"]],inputs:{title:"title",details:"details"},outputs:{edited:"edited"},decls:9,vars:2,consts:[[1,"user-details"],[1,"user-details__header"],[1,"user-details__title"],["mat-icon-button","",1,"user-details__edit",3,"click"],["fontSet","material-icons-outlined"],[1,"user-details__details"],[3,"label","text",4,"ngFor","ngForOf"],[3,"label","text"]],template:function(l,o){1&l&&(t.j41(0,"div",0)(1,"div",1)(2,"h3",2),t.EFF(3),t.k0s(),t.j41(4,"button",3),t.bIt("click",function(){return o.edit()}),t.j41(5,"mat-icon",4),t.EFF(6,"edit"),t.k0s()()(),t.j41(7,"div",5),t.DNE(8,b,1,2,"lc-fake-input",6),t.k0s()()),2&l&&(t.R7$(3),t.JRh(o.title),t.R7$(5),t.Y8G("ngForOf",o.details))},dependencies:[r.Sq,p.iY,x.An,v.F],styles:["[_nghost-%COMP%]{display:block}.user-details[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-details__title[_ngcontent-%COMP%]{margin:0}.user-details__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.user-details__edit[_ngcontent-%COMP%]{color:#005f75}.user-details__details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px}"],changeDetection:0})}return e})();const D=function(e){return{label:"\u0418\u043c\u044f",text:e}},P=function(e){return{label:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f",text:e}},j=function(e){return{label:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",text:e}},F=function(e,s,n){return[e,s,n]};function B(e,s){if(1&e){const n=t.RV6();t.j41(0,"lc-user-details",7),t.bIt("edited",function(){t.eBV(n);const o=t.XpG().ngIf,c=t.XpG();return t.Njj(c.editUserDetails(o))}),t.k0s()}if(2&e){const n=t.XpG().ngIf;t.Y8G("title","\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435")("details",t.sMw(8,F,t.eq3(2,D,n.name),t.eq3(4,P,n.surname),t.eq3(6,j,n.phone_number)))}}const U=function(e){return{label:"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430",text:e}},I=function(e){return[e]};function E(e,s){if(1&e){const n=t.RV6();t.j41(0,"div",1)(1,"div",2),t.DNE(2,B,1,12,"lc-user-details",3),t.j41(3,"lc-user-details",4),t.bIt("edited",function(){const c=t.eBV(n).ngIf,M=t.XpG();return t.Njj(M.changeEmail(c.email))}),t.k0s()(),t.j41(4,"div",5)(5,"button",6),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.logout())}),t.EFF(6,"\u0412\u042b\u0419\u0422\u0418"),t.k0s()()()}if(2&e){const n=s.ngIf;t.R7$(2),t.Y8G("ngIf",n.is_registration_confirmed),t.R7$(1),t.Y8G("title","\u0414\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430")("details",t.eq3(5,I,t.eq3(3,U,n.email)))}}class u{constructor(s){this.controller=s,this.destroyRef=(0,t.WQX)(t.abz)}ngOnInit(){this.controller.setPageTitle()}logout(){this.controller.logout()}editUserDetails(s){const{name:n,phone_number:l,surname:o}=s;this.controller.openPersonalInfoModal({name:n,surname:o,phone_number:l}).pipe((0,a.pQ)(this.destroyRef)).subscribe()}changeEmail(s){this.controller.changeEmail(s).pipe((0,a.pQ)(this.destroyRef)).subscribe()}deleteProfile(){this.controller.deleteUserProfile().pipe((0,a.pQ)(this.destroyRef)).subscribe()}static#t=this.\u0275fac=function(n){return new(n||u)(t.rXU(f.A))};static#e=this.\u0275cmp=t.VBU({type:u,selectors:[["lc-user-profile"]],standalone:!0,features:[t.Jv_([f.A,h.Q]),t.aNF],decls:2,vars:3,consts:[["class","profile-container",4,"ngIf"],[1,"profile-container"],[1,"details"],[3,"title","details","edited",4,"ngIf"],[1,"login-details",3,"title","details","edited"],[1,"actions"],["mat-button","","color","primary",1,"sign-out-btn","action-btn",3,"click"],[3,"title","details","edited"]],template:function(n,l){1&n&&(t.DNE(0,E,7,7,"div",0),t.nI1(1,"async")),2&n&&t.Y8G("ngIf",t.bMT(1,1,l.user$))},dependencies:[C.G,y,p.$z,r.MD,r.bT,r.Jj],styles:[".profile-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;display:flex;flex-direction:column;justify-content:space-between;padding:24px;height:100%}.login-details[_ngcontent-%COMP%]{margin-top:40px}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;gap:16px}.action-btn[_ngcontent-%COMP%]{padding:16px}"],changeDetection:0})}(0,m.Cg)([(0,_.l6)(g.k.user)],u.prototype,"user$",void 0)}}]);